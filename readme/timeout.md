[../](../README.md)

# Timeout HTTP Server Go
В стандартной библиотеке есть пакет `net/http` в котором есть стркутура `http.Server` Основная структура для описания http-server

 - `ReadHeaderTimeout` - время, отаодимое на чтение заголовков запроса 
 - `ReadTimeout` - максимальная продолжительность чтения полного запроса, включая тело
 - `WritwTimeout` - максимальное время ожидания до окончания записи ответа
 - `IdleTimeout` - максимальное время ожидания следующего запроса, используется `keep-alive`

## Как сервер работает с соединениями

1. Подключение установлено `ReadHeaderTimeout`
2. Заголовки запроса получены `ReadTimeout`
3. Тело запроса получено, начинается обработка запроса
4. Обработка завершена, сервер начинает отправлять ответ `WriteTimeout` если установлен
5. Ответ полностью отправлен клиенту `IdleTimeout` если установлен и соединение остается открытым
6. Если не было нового запроса в течении `IdleTimeout`, соединение закрывается 
7. Если новый запрос получен до `IdleTimeout`, то процесс начинается сначала с шага номер 2

## Обоснование
 - Борьба с Slowloris атаками: тип атаки, при котором злоумышленник устанавливает соединение с сервером и отправляет очень медленный запрос, чтобы привести к исчерпанию ресурсов сервера
 - Отправка больших данных
 - Работа с медленными клиентами, например слабый канал
 - Ограничение использования ресурсов